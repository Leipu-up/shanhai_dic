<view class="service-page">
  <!-- æœç´¢å’Œæ–°å¢åŒºåŸŸ - å§‹ç»ˆæ˜¾ç¤ºç‰ˆæœ¬ -->
  <view class="search-add-bar">
    <view class="search-box always-show">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢æœåŠ¡åç§°" 
        value="{{searchValue}}" 
        bindinput="onSearchInput"
        bindconfirm="onSearchConfirm"
      />
    </view>
    <view class="icon-btn add-icon-btn" bindtap="showAddModal">
      <text class="icon">â•</text>
    </view>
  </view>

  <!-- æœåŠ¡åˆ—è¡¨ -->
  <view class="service-list">
    <view wx:if="{{serviceList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— æœåŠ¡æ•°æ®</text>
      <text class="empty-tip">ç‚¹å‡»"+"æŒ‰é’®æ·»åŠ æœåŠ¡</text>
    </view>

    <block wx:for="{{serviceList}}" wx:key="id">
      <view class="service-item card">
        <view class="service-info">
          <text class="service-name">{{item.name}}</text>
          <view class="service-details">
            <text class="service-price">Â¥{{item.price}}</text>
            <text class="service-duration">{{item.duration}}åˆ†é’Ÿ</text>
            <text class="service-category">{{item.category}}</text>
          </view>
          <text wx:if="{{item.description}}" class="service-description">{{item.description}}</text>
        </view>
        <view class="service-actions">
          <view class="action-btn edit" data-id="{{item.id}}" bindtap="editService">
            <text class="action-icon">âœï¸</text>
            <text class="action-text">ç¼–è¾‘</text>
          </view>
          <view class="action-btn delete" data-id="{{item.id}}" bindtap="deleteService">
            <text class="action-icon">ğŸ—‘ï¸</text>
            <text class="action-text">åˆ é™¤</text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{hasMore}}" class="load-more" bindtap="loadMore">
    <text>{{loading ? 'åŠ è½½ä¸­...' : 'ç‚¹å‡»åŠ è½½æ›´å¤š'}}</text>
  </view>
  <view wx:else class="no-more">
    <text>æ²¡æœ‰æ›´å¤šäº†</text>
  </view>

  <!-- æ–°å¢/ç¼–è¾‘æœåŠ¡å¼¹çª— -->
  <view class="modal" wx:if="{{showModal}}">
    <view class="modal-mask" bindtap="hideModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">{{isEdit ? 'ç¼–è¾‘æœåŠ¡' : 'æ–°å¢æœåŠ¡'}}</text>
        <text class="close-icon" bindtap="hideModal">âœ•</text>
      </view>
      
      <view class="modal-body">
        <view class="form-item">
          <text class="form-label">æœåŠ¡åç§°</text>
          <input 
            class="form-input" 
            placeholder="è¯·è¾“å…¥æœåŠ¡åç§°" 
            value="{{formData.name}}"
            bindinput="onFormInput"
            data-field="name"
          />
        </view>
        
        <view class="form-item">
          <text class="form-label">ä»·æ ¼(å…ƒ)</text>
          <input 
            class="form-input" 
            type="number" 
            placeholder="è¯·è¾“å…¥ä»·æ ¼" 
            value="{{formData.price}}"
            bindinput="onFormInput"
            data-field="price"
          />
        </view>
        
        <view class="form-item">
          <text class="form-label">æœåŠ¡æ—¶é•¿(åˆ†é’Ÿ)</text>
          <input 
            class="form-input" 
            type="number" 
            placeholder="è¯·è¾“å…¥æœåŠ¡æ—¶é•¿" 
            value="{{formData.duration}}"
            bindinput="onFormInput"
            data-field="duration"
          />
        </view>
        
        <view class="form-item">
          <text class="form-label">æœåŠ¡åˆ†ç±»</text>
          <picker 
            range="{{categories}}" 
            value="{{categoryIndex}}"
            bindchange="onCategoryChange"
          >
            <view class="form-input picker-input">
              {{formData.category || 'è¯·é€‰æ‹©æœåŠ¡åˆ†ç±»'}}
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>
        
        <view class="form-item">
          <text class="form-label">æœåŠ¡æè¿°</text>
          <textarea 
            class="form-textarea" 
            placeholder="è¯·è¾“å…¥æœåŠ¡æè¿°" 
            value="{{formData.description}}"
            bindinput="onFormInput"
            data-field="description"
            maxlength="200"
          />
          <text class="form-tip">{{formData.description ? formData.description.length : 0}}/200</text>
        </view>
      </view>
      
      <view class="modal-footer">
        <view class="modal-btn cancel" bindtap="hideModal">å–æ¶ˆ</view>
        <view class="modal-btn confirm" bindtap="saveService">ä¿å­˜</view>
      </view>
    </view>
  </view>
</view>