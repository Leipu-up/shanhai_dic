<view class="my-page">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="user-header">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatar || '/images/default-avatar.png'}}"></image>
      <view class="user-details">
        <text class="user-name">{{userInfo.nickName || 'è¯·ç™»å½•'}}</text>
        <text class="user-role">{{roleText}}</text>
        <text class="user-id">å·¥å·: {{userInfo.employeeId || ''}}</text>
      </view>
    </view>
    <view class="edit-btn" bindtap="editProfile" wx:if="{{userInfo.nickName}}">
      <text class="edit-text">ç¼–è¾‘èµ„æ–™</text>
      <text class="arrow">â€º</text>
    </view>
    <view class="edit-btn" bindtap="editProfile" wx:if="{{!userInfo.nickName}}">
      <text class="edit-text">ç™»å½•</text>
      <text class="arrow">â€º</text>
    </view>
  </view>

  <!-- ä¸ªäººç»Ÿè®¡ -->
  <view class="personal-stats card">
    <view class="stats-item">
      <text class="stats-number">{{personalStats.monthlyPerformance}}</text>
      <text class="stats-label">æœ¬æœˆä¸šç»©(å…ƒ)</text>
    </view>
    <view class="stats-item">
      <text class="stats-number">{{personalStats.customerCount}}</text>
      <text class="stats-label">æœåŠ¡å®¢æˆ·</text>
    </view>
    <view class="stats-item">
      <text class="stats-number">{{personalStats.attendanceDays}}/31</text>
      <text class="stats-label">æœ¬æœˆå‡ºå‹¤(å¤©)</text>
    </view>
    <view class="stats-item">
      <text class="stats-number">{{personalStats.satisfaction}}%</text>
      <text class="stats-label">æ»¡æ„åº¦</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="section-title">æˆ‘çš„åŠŸèƒ½</view>
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateToMySchedule">
        <view class="menu-icon schedule">ğŸ“…</view>
        <text class="menu-text">æˆ‘çš„æ’ç­</text>
        <view class="menu-right">
          <text class="menu-desc">{{nextSchedule}}</text>
          <text class="arrow">â€º</text>
        </view>
      </view>

      <view class="menu-item" bindtap="navigateToMyCustomers">
        <view class="menu-icon customers">ğŸ‘¥</view>
        <text class="menu-text">æˆ‘çš„å®¢æˆ·</text>
        <view class="menu-right">
          <text class="badge" wx:if="{{unreadMessages > 0}}">{{unreadMessages}}</text>
          <text class="arrow">â€º</text>
        </view>
      </view>

      <view class="menu-item" bindtap="navigateToPerformance">
        <view class="menu-icon performance">ğŸ“Š</view>
        <text class="menu-text">ä¸šç»©ç»Ÿè®¡</text>
        <view class="menu-right">
          <text class="arrow">â€º</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç³»ç»Ÿè®¾ç½® -->
  <view class="menu-section">
    <view class="section-title">ç³»ç»Ÿè®¾ç½®</view>
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateToSettings">
        <view class="menu-icon settings">âš™ï¸</view>
        <text class="menu-text">ç³»ç»Ÿè®¾ç½®</text>
        <text class="arrow">â€º</text>
      </view>

      <view class="menu-item" bindtap="navigateToHelp">
        <view class="menu-icon help">â“</view>
        <text class="menu-text">å¸®åŠ©ä¸­å¿ƒ</text>
        <text class="arrow">â€º</text>
      </view>

      <view class="menu-item" bindtap="showAbout">
        <view class="menu-icon about">â„¹ï¸</view>
        <text class="menu-text">å…³äºæˆ‘ä»¬</text>
        <text class="arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section">
    <button class="logout-btn" bindtap="logout" wx:if="{{isLoggedIn}}">é€€å‡ºç™»å½•</button>
    <button class="login-btn" bindtap="login" wx:else>ç«‹å³ç™»å½•</button>
  </view>

  <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
  <view class="version-info">
    <text>v1.0.0</text>
  </view>
</view>