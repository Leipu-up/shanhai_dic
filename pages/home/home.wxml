<!-- pages/home/home.wxml -->
<view class="home-page">
  <!-- é¡¶éƒ¨æœç´¢æ¡† -->
  <view class="search-container">
    <view class="search-bar" bindtap="goToSearch">
      <text class="search-icon">ğŸ”</text>
      <text class="search-text">æœç´¢ç¥è¯äººç‰©ã€åœ°ç‚¹ã€æ•…äº‹...</text>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <swiper class="banner-swiper" indicator-dots autoplay interval="3000" duration="500">
    <swiper-item wx:for="{{banners}}" wx:key="id" bindtap="goToBanner" data-id="{{item.id}}">
      <image src="{{item.image}}" mode="aspectFill" class="banner-image"></image>
      <view class="banner-title">{{item.title}}</view>
    </swiper-item>
  </swiper>

  <!-- åˆ†ç±»å…¥å£ -->
  <view class="category-section">
    <view class="section-header">
      <text class="section-title">ç¥è¯åˆ†ç±»</text>
      <text class="section-more" bindtap="viewAllCategories">å…¨éƒ¨ ></text>
    </view>
    <scroll-view scroll-x class="category-scroll" enable-flex>
      <view class="category-item" wx:for="{{categories}}" wx:key="id" bindtap="goCategory" data-id="{{item.id}}">
        <view class="category-icon">{{item.icon}}</view>
        <text class="category-name">{{item.name}}</text>
      </view>
    </scroll-view>
  </view>

  <!-- æ¯æ—¥æ¨è -->
  <view class="daily-section">
    <view class="section-header">
      <text class="section-title">æ¯æ—¥æ¨è</text>
    </view>
    <view class="daily-card" bindtap="goToDetail" data-id="{{dailyStory.id}}">
      <view class="daily-content">
        <text class="daily-tag">ä»Šæ—¥æ¨è</text>
        <text class="daily-title">{{dailyStory.title}}</text>
        <text class="daily-desc">{{dailyStory.description}}</text>
        <view class="daily-footer">
          <text class="daily-source">{{dailyStory.source}}</text>
          <text class="daily-date">{{dailyStory.date}}</text>
        </view>
      </view>
      <image src="{{dailyStory.image}}" mode="aspectFill" class="daily-image"></image>
    </view>
  </view>

  <!-- çƒ­é—¨ä¸“é¢˜ -->
  <view class="topic-section">
    <view class="section-header">
      <text class="section-title">çƒ­é—¨ä¸“é¢˜</text>
    </view>
    <view class="topic-grid">
      <view class="topic-item" wx:for="{{topics}}" wx:key="id" bindtap="goTopic" data-id="{{item.id}}">
        <view class="topic-icon-box" style="background-color: {{item.bgColor}}">
          <text class="topic-icon">{{item.icon}}</text>
        </view>
        <text class="topic-name">{{item.name}}</text>
        <text class="topic-count">{{item.count}}ç¯‡</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æµè§ˆ -->
  <view class="history-section" wx:if="{{historyList.length > 0}}">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘æµè§ˆ</text>
      <text class="section-more" bindtap="clearHistory">æ¸…é™¤</text>
    </view>
    <scroll-view scroll-x class="history-scroll" enable-flex>
      <view class="history-item" wx:for="{{historyList}}" wx:key="id" bindtap="goToHistory" data-id="{{item.id}}">
        <image src="{{item.image}}" mode="aspectFill" class="history-image"></image>
        <text class="history-name">{{item.name}}</text>
      </view>
    </scroll-view>
  </view>
</view>